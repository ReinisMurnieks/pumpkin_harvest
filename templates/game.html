<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Train Simulation - Logistics for Kids</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="game-container">
        <h1>ğŸ™ï¸ City Planning Simulator ğŸ™ï¸</h1>
        
        <div class="score-board">
            <span>ğŸ‘¥ Pop: <span id="population">0</span></span>
            <span>ğŸ’° $<span id="budget">50000</span></span>
            <span>ğŸ˜Š <span id="happiness">50</span>%</span>
            <span>âš¡ <span id="power-status">0/0</span></span>
            <span>ğŸ’§ <span id="water-status">0/0</span></span>
            <span>ğŸ­ Pollution: <span id="pollution">0</span></span>
        </div>
        
        <div class="stats-panel">
            <span>ğŸ• <span id="time-display">â˜€ï¸ 08:00</span></span>
            <span>ğŸ‘” Jobs: <span id="employment">0</span>/<span id="unemployed">0</span></span>
            <span>ğŸš— Traffic: <span id="traffic">0</span></span>
            <span>ğŸš” Crime: <span id="crime">0</span></span>
            <span>ğŸ’µ Income: $<span id="income">0</span>/mo</span>
            <span>ğŸ’¸ Expenses: $<span id="expenses">0</span>/mo</span>
        </div>

        <div class="control-panel">
            <button id="pause-btn" class="control-btn">â¸ï¸ Pause</button>
            <button id="clear-btn" class="control-btn">ğŸ—‘ï¸ Clear City</button>
            <button id="auto-metro-btn" class="control-btn">ğŸš‡ Auto Metro</button>
            <button id="speed-day-btn" class="control-btn">â© Speed Up Time</button>
        </div>

        <!-- Main simulation canvas -->
        <div class="simulation-area">
            <canvas id="track-canvas" width="900" height="600"></canvas>
            
            <!-- Stations overlay -->
            <div class="stations-overlay">
                {% for station in stations %}
                <div class="station-marker" 
                     data-station-id="{{ station.id }}"
                     data-accepts="{{ station.accepts|join(',') }}"
                     style="left: {{ station.x }}px; top: {{ station.y }}px;">
                    <div class="station-emoji">{{ station.emoji }}</div>
                    <div class="station-name">{{ station.name }}</div>
                    <div class="station-cargo-display"></div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Building tools panel -->
        <div class="cargo-panel">
            <h3>ğŸ—ï¸ Building Tools</h3>
            <div class="building-tools">
                <button class="tool-btn" data-tool="residential" data-cost="1000">
                    ğŸ  House<br><small>$1k</small>
                </button>
                <button class="tool-btn" data-tool="apartment" data-cost="3000">
                    ğŸ˜ï¸ Apartment<br><small>$3k</small>
                </button>
                <button class="tool-btn" data-tool="commercial" data-cost="2500">
                    ğŸ¢ Office<br><small>$2.5k</small>
                </button>
                <button class="tool-btn" data-tool="industrial" data-cost="3500">
                    ğŸ­ Factory<br><small>$3.5k</small>
                </button>
                <button class="tool-btn" data-tool="park" data-cost="500">
                    ğŸŒ³ Park<br><small>$500</small>
                </button>
                <button class="tool-btn" data-tool="road" data-cost="200">
                    ğŸ›£ï¸ Road<br><small>$200</small>
                </button>
                <button class="tool-btn" data-tool="metro" data-cost="5000">
                    ğŸš‡ Metro<br><small>$5k</small>
                </button>
                <button class="tool-btn" data-tool="hospital" data-cost="8000">
                    ğŸ¥ Hospital<br><small>$8k</small>
                </button>
                <button class="tool-btn" data-tool="school" data-cost="5000">
                    ğŸ« School<br><small>$5k</small>
                </button>
                <button class="tool-btn" data-tool="police" data-cost="6000">
                    ğŸ‘® Police<br><small>$6k</small>
                </button>
                <button class="tool-btn" data-tool="powerplant" data-cost="10000">
                    âš¡ Power<br><small>$10k</small>
                </button>
                <button class="tool-btn" data-tool="watertower" data-cost="7000">
                    ğŸ’§ Water<br><small>$7k</small>
                </button>
                <button class="tool-btn" data-tool="stadium" data-cost="15000">
                    ğŸŸï¸ Stadium<br><small>$15k</small>
                </button>
                <button class="tool-btn" data-tool="delete" data-cost="0">
                    âŒ Delete<br><small>Free</small>
                </button>
            </div>
        </div>

        <div class="info-panel">
            <div id="city-status">ğŸ—ï¸ Build power plants and water towers first!</div>
            <div id="tool-info">ğŸ’¡ Tip: Balance residential, commercial, and industrial zones</div>
        </div>

        <div class="feedback" id="feedback"></div>
    </div>

    <script>
        // City planning app - no predefined data needed
    </script>
    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html>
